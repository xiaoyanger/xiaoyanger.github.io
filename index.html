<!doctype html>



  


<html class="theme-next muse use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="xiaoyanger" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.1" />






<meta property="og:type" content="website">
<meta property="og:title" content="myNote-Blog">
<meta property="og:url" content="https://xiaoyanger.github.io/index.html">
<meta property="og:site_name" content="myNote-Blog">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="myNote-Blog">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Muse',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: 'Author'
    }
  };
</script>




  <link rel="canonical" href="https://xiaoyanger.github.io/"/>

  <title> myNote-Blog </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">myNote-Blog</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle"></p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Startseite
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archiv
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/07/14/HTTP错误代码大汇总/" itemprop="url">
                  错误代码大汇总
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Veröffentlicht am</span>
            <time itemprop="dateCreated" datetime="2016-07-14T15:26:14+08:00" content="2016-07-14">
              2016-07-14
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">in</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/http/" itemprop="url" rel="index">
                    <span itemprop="name">http</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/07/14/HTTP错误代码大汇总/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/07/14/HTTP错误代码大汇总/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p> 错误代码大汇总</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line">400 无法解析此请求。 401.1 未经授权：访问由于凭据无效被拒绝。 </div><div class="line">401.2 未经授权: 访问由于服务器配置倾向使用替代身份验证方法而被拒绝。 </div><div class="line">401.3 未经授权：访问由于 ACL 对所请求资源的设置被拒绝。 </div><div class="line">401.4 未经授权：Web 服务器上安装的筛选器授权失败。 </div><div class="line">401.5 未经授权：ISAPI/CGI 应用程序授权失败。 </div><div class="line">401.7 未经授权：由于 Web 服务器上的 URL 授权策略而拒绝访问。 </div><div class="line">403 禁止访问：访问被拒绝。 </div><div class="line">403.1 禁止访问：执行访问被拒绝。 </div><div class="line">403.2 禁止访问：读取访问被拒绝。 </div><div class="line">403.3 禁止访问：写入访问被拒绝。 </div><div class="line">403.4 禁止访问：需要使用 SSL 查看该资源。 </div><div class="line">403.5 禁止访问：需要使用 SSL 128 查看该资源。 </div><div class="line">403.6 禁止访问：客户端的 IP 地址被拒绝。 </div><div class="line">403.7 禁止访问：需要 SSL 客户端证书。 </div><div class="line">403.8 禁止访问：客户端的 DNS 名称被拒绝。 </div><div class="line">403.9 禁止访问：太多客户端试图连接到 Web 服务器。 </div><div class="line">403.10 禁止访问：Web 服务器配置为拒绝执行访问。 </div><div class="line">403.11 禁止访问：密码已更改。 </div><div class="line">403.12 禁止访问：服务器证书映射器拒绝了客户端证书访问。 </div><div class="line">403.13 禁止访问：客户端证书已在 Web 服务器上吊销。 </div><div class="line">403.14 禁止访问：在 Web 服务器上已拒绝目录列表。 </div><div class="line">403.15 禁止访问：Web 服务器已超过客户端访问许可证限制。 </div><div class="line">403.16 禁止访问：客户端证书格式错误或未被 Web 服务器信任。 </div><div class="line">403.17 禁止访问：客户端证书已经到期或者尚未生效。 </div><div class="line">403.18 禁止访问：无法在当前应用程序池中执行请求的 URL。 </div><div class="line">403.19 禁止访问：无法在该应用程序池中为客户端执行 CGI。 </div><div class="line">403.20 禁止访问：Passport 登录失败。 </div><div class="line">404 找不到文件或目录。 </div><div class="line">404.1 文件或目录未找到：网站无法在所请求的端口访问。</div></pre></td></tr></table></figure>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/07/07/JS时间转换方法/" itemprop="url">
                  js时间转换方法
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Veröffentlicht am</span>
            <time itemprop="dateCreated" datetime="2016-07-07T08:06:32+08:00" content="2016-07-07">
              2016-07-07
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">in</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/jquery/" itemprop="url" rel="index">
                    <span itemprop="name">jquery</span>
                  </a>
                </span>

                
                
                  . 
                

              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/jquery/js/" itemprop="url" rel="index">
                    <span itemprop="name">js</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/07/07/JS时间转换方法/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/07/07/JS时间转换方法/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>字符串转换时间戳<br>2016-10-10 11：11：11转换时间戳<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">strToTime</span>(<span class="params">string</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> f = string.split(<span class="string">' '</span>, <span class="number">2</span>);</div><div class="line">    <span class="keyword">var</span> d = (f[<span class="number">0</span>] ? f[<span class="number">0</span>] : <span class="string">''</span>).split(<span class="string">'-'</span>, <span class="number">3</span>);</div><div class="line">    <span class="keyword">var</span> t = (f[<span class="number">1</span>] ? f[<span class="number">1</span>] : <span class="string">''</span>).split(<span class="string">':'</span>, <span class="number">3</span>);</div><div class="line">    <span class="keyword">return</span> (<span class="keyword">new</span> <span class="built_in">Date</span>(</div><div class="line">            <span class="built_in">parseInt</span>(d[<span class="number">0</span>], <span class="number">10</span>) || <span class="literal">null</span>,</div><div class="line">            (<span class="built_in">parseInt</span>(d[<span class="number">1</span>], <span class="number">10</span>) || <span class="number">1</span>) - <span class="number">1</span>,</div><div class="line">            <span class="built_in">parseInt</span>(d[<span class="number">2</span>], <span class="number">10</span>) || <span class="literal">null</span>,</div><div class="line">            <span class="built_in">parseInt</span>(t[<span class="number">0</span>], <span class="number">10</span>) || <span class="literal">null</span>,</div><div class="line">            <span class="built_in">parseInt</span>(t[<span class="number">1</span>], <span class="number">10</span>) || <span class="literal">null</span>,</div><div class="line">            <span class="built_in">parseInt</span>(t[<span class="number">2</span>], <span class="number">10</span>) || <span class="literal">null</span></div><div class="line">        )).getTime() / <span class="number">1000</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>jquery时间戳转换时间格式<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">unitToStr</span> (<span class="params">unixTime, isFull, timeZone</span>) </span>&#123;</div><div class="line">        <span class="keyword">if</span> (<span class="keyword">typeof</span> (timeZone) == <span class="string">'number'</span>)</div><div class="line">        &#123;</div><div class="line">            unixTime = <span class="built_in">parseInt</span>(unixTime) + <span class="built_in">parseInt</span>(timeZone) * <span class="number">60</span> * <span class="number">60</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">var</span> time = <span class="keyword">new</span> <span class="built_in">Date</span>(unixTime * <span class="number">1000</span>);</div><div class="line">        <span class="keyword">var</span> ymdhis = <span class="string">""</span>;</div><div class="line">        ymdhis += time.getUTCFullYear() + <span class="string">"-"</span>;</div><div class="line">        ymdhis += (time.getUTCMonth()+<span class="number">1</span>) + <span class="string">"-"</span>;</div><div class="line">        ymdhis += time.getUTCDate();</div><div class="line">        <span class="keyword">if</span> (isFull === <span class="literal">true</span>)</div><div class="line">        &#123;</div><div class="line">            ymdhis += <span class="string">" "</span> + time.getUTCHours() + <span class="string">":"</span>;</div><div class="line">            ymdhis += time.getUTCMinutes() + <span class="string">":"</span>;</div><div class="line">            ymdhis += time.getUTCSeconds();</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> ymdhis;</div><div class="line">    &#125;</div></pre></td></tr></table></figure></p>
<p>js获取当前的时间<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> timestamp = <span class="built_in">Date</span>.parse(<span class="keyword">new</span> <span class="built_in">Date</span>());</div><div class="line"><span class="keyword">var</span> timestamp = (<span class="keyword">new</span> <span class="built_in">Date</span>()).valueOf();</div><div class="line"><span class="keyword">var</span> timestamp=<span class="keyword">new</span> <span class="built_in">Date</span>().getTime();</div></pre></td></tr></table></figure></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/07/01/自己写的一个数据库导出脚本/" itemprop="url">
                  自己写的一个数据库导出脚本
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Veröffentlicht am</span>
            <time itemprop="dateCreated" datetime="2016-07-01T11:06:32+08:00" content="2016-07-01">
              2016-07-01
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">in</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/linux/" itemprop="url" rel="index">
                    <span itemprop="name">linux</span>
                  </a>
                </span>

                
                
                  . 
                

              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/linux/mysql/" itemprop="url" rel="index">
                    <span itemprop="name">mysql</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/07/01/自己写的一个数据库导出脚本/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/07/01/自己写的一个数据库导出脚本/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>#自己写的一个数据库导出脚本<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#!/bin/bash</span></div><div class="line"><span class="comment">#auto backup mysql db</span></div><div class="line"><span class="comment">#by authors zhangsheng 2016</span></div><div class="line"><span class="comment">#define backup path</span></div><div class="line"></div><div class="line">BAK_DIR=<span class="string">"/home/wwwroot/mysqlbackup/`date +%Y%m%d`"</span></div><div class="line">MYSQLDB=<span class="built_in">test</span></div><div class="line">MYSQLUSR=root</div><div class="line">MYSQLPW=yangbiao</div><div class="line">MYSQLCMD=/usr/bin/mysqldump</div><div class="line">MySQLCHARACTERSET=<span class="string">"utf8"</span></div><div class="line"><span class="keyword">if</span> [ <span class="variable">$UID</span> <span class="_">-ne</span> 0 ];<span class="keyword">then</span></div><div class="line">   <span class="built_in">echo</span> <span class="string">"must to be use root for exec shell"</span></div><div class="line">   <span class="built_in">exit</span></div><div class="line"><span class="keyword">fi</span></div><div class="line"></div><div class="line"><span class="keyword">if</span> [ ! <span class="_">-d</span> <span class="variable">$BAK_DIR</span> ];<span class="keyword">then</span></div><div class="line">   mkdir -p <span class="string">"<span class="variable">$BAK_DIR</span>"</span></div><div class="line">   chmod -R 777 <span class="string">"<span class="variable">$BAK_DIR</span>"</span></div><div class="line">   <span class="built_in">echo</span> <span class="_">-e</span> <span class="string">"\033[32mThe <span class="variable">$BAK_DIR</span> create successfully!"</span></div><div class="line"><span class="keyword">else</span></div><div class="line">   <span class="built_in">echo</span> <span class="string">"This <span class="variable">$BAK_DIR</span> is exists..."</span></div><div class="line"><span class="keyword">fi</span></div><div class="line"></div><div class="line"><span class="variable">$MYSQLCMD</span> -u<span class="variable">$MYSQLUSR</span> -p<span class="variable">$MYSQLPW</span> --default-character-set=<span class="variable">$MySQLCHARACTERSET</span> <span class="variable">$MYSQLDB</span> &gt; <span class="variable">$BAK_DIR</span>/<span class="variable">$MYSQLDB</span>.sql</div><div class="line"></div><div class="line"><span class="keyword">if</span> [ $? <span class="_">-eq</span> 0 ];<span class="keyword">then</span></div><div class="line">   <span class="built_in">echo</span> <span class="_">-e</span> <span class="string">"\033[32mThe Mysql Backup <span class="variable">$MYSQLDB</span> successfull"</span></div><div class="line">   <span class="built_in">echo</span> <span class="_">-e</span> <span class="string">"\r\n  mysql -uroot -p --default-character-set=<span class="variable">$MySQLCHARACTERSET</span> <span class="variable">$MYSQLDB</span> &lt; <span class="variable">$BAK_DIR</span>/<span class="variable">$MYSQLDB</span>.sql"</span></div><div class="line"><span class="keyword">else</span></div><div class="line">   <span class="built_in">echo</span> <span class="_">-e</span> <span class="string">"\033[32mThe Mysql Backup <span class="variable">$MYSQLDB</span> Fail,Please check"</span></div><div class="line"><span class="keyword">fi</span></div></pre></td></tr></table></figure></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/06/23/git-zsh快捷键/" itemprop="url">
                  git-zsh快捷键
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Veröffentlicht am</span>
            <time itemprop="dateCreated" datetime="2016-06-23T16:06:05+08:00" content="2016-06-23">
              2016-06-23
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">in</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/git/" itemprop="url" rel="index">
                    <span itemprop="name">git</span>
                  </a>
                </span>

                
                
                  . 
                

              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/git/zsh/" itemprop="url" rel="index">
                    <span itemprop="name">zsh</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/06/23/git-zsh快捷键/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/06/23/git-zsh快捷键/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="git-zsh快捷键"><a href="#git-zsh快捷键" class="headerlink" title="git-zsh快捷键"></a>git-zsh快捷键</h1><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">alias</span> g=<span class="string">'git'</span></div><div class="line"></div><div class="line"><span class="built_in">alias</span> ga=<span class="string">'git add'</span></div><div class="line"><span class="built_in">alias</span> gaa=<span class="string">'git add --all'</span></div><div class="line"><span class="built_in">alias</span> gapa=<span class="string">'git add --patch'</span></div><div class="line"></div><div class="line"><span class="built_in">alias</span> gb=<span class="string">'git branch'</span></div><div class="line"><span class="built_in">alias</span> gba=<span class="string">'git branch -a'</span></div><div class="line"><span class="built_in">alias</span> gbda=<span class="string">'git branch --merged | command grep -vE "^(\*|\s*master\s*$)" | command xargs -n 1 git branch -d'</span></div><div class="line"><span class="built_in">alias</span> gbl=<span class="string">'git blame -b -w'</span></div><div class="line"><span class="built_in">alias</span> gbnm=<span class="string">'git branch --no-merged'</span></div><div class="line"><span class="built_in">alias</span> gbr=<span class="string">'git branch --remote'</span></div><div class="line"><span class="built_in">alias</span> gbs=<span class="string">'git bisect'</span></div><div class="line"><span class="built_in">alias</span> gbsb=<span class="string">'git bisect bad'</span></div><div class="line"><span class="built_in">alias</span> gbsg=<span class="string">'git bisect good'</span></div><div class="line"><span class="built_in">alias</span> gbsr=<span class="string">'git bisect reset'</span></div><div class="line"><span class="built_in">alias</span> gbss=<span class="string">'git bisect start'</span></div><div class="line"></div><div class="line"><span class="built_in">alias</span> gc=<span class="string">'git commit -v'</span></div><div class="line"><span class="built_in">alias</span> gc!=<span class="string">'git commit -v --amend'</span></div><div class="line"><span class="built_in">alias</span> gca=<span class="string">'git commit -v -a'</span></div><div class="line"><span class="built_in">alias</span> gca!=<span class="string">'git commit -v -a --amend'</span></div><div class="line"><span class="built_in">alias</span> gcan!=<span class="string">'git commit -v -a -s --no-edit --amend'</span></div><div class="line"><span class="built_in">alias</span> gcam=<span class="string">'git commit -a -m'</span></div><div class="line"><span class="built_in">alias</span> gcb=<span class="string">'git checkout -b'</span></div><div class="line"><span class="built_in">alias</span> gcf=<span class="string">'git config --list'</span></div><div class="line"><span class="built_in">alias</span> gcl=<span class="string">'git clone --recursive'</span></div><div class="line"><span class="built_in">alias</span> gclean=<span class="string">'git clean -fd'</span></div><div class="line"><span class="built_in">alias</span> gpristine=<span class="string">'git reset --hard &amp;&amp; git clean -dfx'</span></div><div class="line"><span class="built_in">alias</span> gcm=<span class="string">'git checkout master'</span></div><div class="line"><span class="built_in">alias</span> gcmsg=<span class="string">'git commit -m'</span></div><div class="line"><span class="built_in">alias</span> gco=<span class="string">'git checkout'</span></div><div class="line"><span class="built_in">alias</span> gcount=<span class="string">'git shortlog -sn'</span></div><div class="line">compdef gcount=git</div><div class="line"><span class="built_in">alias</span> gcp=<span class="string">'git cherry-pick'</span></div><div class="line"><span class="built_in">alias</span> gcs=<span class="string">'git commit -S'</span></div><div class="line"></div><div class="line"><span class="built_in">alias</span> gd=<span class="string">'git diff'</span></div><div class="line"><span class="built_in">alias</span> gdca=<span class="string">'git diff --cached'</span></div><div class="line"><span class="built_in">alias</span> gdct=<span class="string">'git describe --tags `git rev-list --tags --max-count=1`'</span></div><div class="line"><span class="built_in">alias</span> gdt=<span class="string">'git diff-tree --no-commit-id --name-only -r'</span></div><div class="line"><span class="function"><span class="title">gdv</span></span>() &#123; git diff -w <span class="string">"<span class="variable">$@</span>"</span> | view - &#125;</div><div class="line">compdef _git gdv=git-diff</div><div class="line"><span class="built_in">alias</span> gdw=<span class="string">'git diff --word-diff'</span></div><div class="line"></div><div class="line"><span class="built_in">alias</span> gf=<span class="string">'git fetch'</span></div><div class="line"><span class="built_in">alias</span> gfa=<span class="string">'git fetch --all --prune'</span></div><div class="line"><span class="keyword">function</span> <span class="function"><span class="title">gfg</span></span>() &#123; git ls-files | grep <span class="variable">$@</span> &#125;</div><div class="line">compdef gfg=grep</div><div class="line"><span class="built_in">alias</span> gfo=<span class="string">'git fetch origin'</span></div><div class="line"></div><div class="line"><span class="built_in">alias</span> gg=<span class="string">'git gui citool'</span></div><div class="line"><span class="built_in">alias</span> gga=<span class="string">'git gui citool --amend'</span></div><div class="line"><span class="built_in">alias</span> ggpur=<span class="string">'ggu'</span></div><div class="line"><span class="built_in">alias</span> gignore=<span class="string">'git update-index --assume-unchanged'</span></div><div class="line"><span class="built_in">alias</span> gignored=<span class="string">'git ls-files -v | grep "^[[:lower:]]"'</span></div><div class="line"><span class="built_in">alias</span> git-svn-dcommit-push=<span class="string">'git svn dcommit &amp;&amp; git push github master:svntrunk'</span></div><div class="line"><span class="built_in">alias</span> gk=<span class="string">'\gitk --all --branches'</span></div><div class="line"><span class="built_in">alias</span> gke=<span class="string">'\gitk --all $(git log -g --pretty=format:%h)'</span></div><div class="line"><span class="built_in">alias</span> gl=<span class="string">'git pull'</span></div><div class="line"><span class="built_in">alias</span> glg=<span class="string">'git log --stat'</span></div><div class="line"><span class="built_in">alias</span> glgp=<span class="string">'git log --stat -p'</span></div><div class="line"><span class="built_in">alias</span> glgg=<span class="string">'git log --graph'</span></div><div class="line"><span class="built_in">alias</span> glgga=<span class="string">'git log --graph --decorate --all'</span></div><div class="line"><span class="built_in">alias</span> glgm=<span class="string">'git log --graph --max-count=10'</span></div><div class="line"><span class="built_in">alias</span> glo=<span class="string">'git log --oneline --decorate'</span></div><div class="line"><span class="built_in">alias</span> glol=<span class="string">"git log --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&lt;%an&gt;%Creset' --abbrev-commit"</span></div><div class="line"><span class="built_in">alias</span> glola=<span class="string">"git log --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&lt;%an&gt;%Creset' --abbrev-commit --all"</span></div><div class="line"><span class="built_in">alias</span> glog=<span class="string">'git log --oneline --decorate --graph'</span></div><div class="line"><span class="built_in">alias</span> glp=<span class="string">"_git_log_prettily"</span></div><div class="line">compdef _git glp=git-log</div><div class="line"></div><div class="line"><span class="built_in">alias</span> gm=<span class="string">'git merge'</span></div><div class="line"><span class="built_in">alias</span> gmom=<span class="string">'git merge origin/master'</span></div><div class="line"><span class="built_in">alias</span> gmt=<span class="string">'git mergetool --no-prompt'</span></div><div class="line"><span class="built_in">alias</span> gmtvim=<span class="string">'git mergetool --no-prompt --tool=vimdiff'</span></div><div class="line"><span class="built_in">alias</span> gmum=<span class="string">'git merge upstream/master'</span></div><div class="line"></div><div class="line"><span class="built_in">alias</span> gp=<span class="string">'git push'</span></div><div class="line"><span class="built_in">alias</span> gpd=<span class="string">'git push --dry-run'</span></div><div class="line"><span class="built_in">alias</span> gpoat=<span class="string">'git push origin --all &amp;&amp; git push origin --tags'</span></div><div class="line">compdef _git gpoat=git-push</div><div class="line"><span class="built_in">alias</span> gpu=<span class="string">'git push upstream'</span></div><div class="line"><span class="built_in">alias</span> gpv=<span class="string">'git push -v'</span></div><div class="line"></div><div class="line"><span class="built_in">alias</span> gr=<span class="string">'git remote'</span></div><div class="line"><span class="built_in">alias</span> gra=<span class="string">'git remote add'</span></div><div class="line"><span class="built_in">alias</span> grb=<span class="string">'git rebase'</span></div><div class="line"><span class="built_in">alias</span> grba=<span class="string">'git rebase --abort'</span></div><div class="line"><span class="built_in">alias</span> grbc=<span class="string">'git rebase --continue'</span></div><div class="line"><span class="built_in">alias</span> grbi=<span class="string">'git rebase -i'</span></div><div class="line"><span class="built_in">alias</span> grbm=<span class="string">'git rebase master'</span></div><div class="line"><span class="built_in">alias</span> grbs=<span class="string">'git rebase --skip'</span></div><div class="line"><span class="built_in">alias</span> grh=<span class="string">'git reset HEAD'</span></div><div class="line"><span class="built_in">alias</span> grhh=<span class="string">'git reset HEAD --hard'</span></div><div class="line"><span class="built_in">alias</span> grmv=<span class="string">'git remote rename'</span></div><div class="line"><span class="built_in">alias</span> grrm=<span class="string">'git remote remove'</span></div><div class="line"><span class="built_in">alias</span> grset=<span class="string">'git remote set-url'</span></div><div class="line"><span class="built_in">alias</span> grt=<span class="string">'cd $(git rev-parse --show-toplevel || echo ".")'</span></div><div class="line"><span class="built_in">alias</span> gru=<span class="string">'git reset --'</span></div><div class="line"><span class="built_in">alias</span> grup=<span class="string">'git remote update'</span></div><div class="line"><span class="built_in">alias</span> grv=<span class="string">'git remote -v'</span></div><div class="line"></div><div class="line"><span class="built_in">alias</span> gsb=<span class="string">'git status -sb'</span></div><div class="line"><span class="built_in">alias</span> gsd=<span class="string">'git svn dcommit'</span></div><div class="line"><span class="built_in">alias</span> gsi=<span class="string">'git submodule init'</span></div><div class="line"><span class="built_in">alias</span> gsps=<span class="string">'git show --pretty=short --show-signature'</span></div><div class="line"><span class="built_in">alias</span> gsr=<span class="string">'git svn rebase'</span></div><div class="line"><span class="built_in">alias</span> gss=<span class="string">'git status -s'</span></div><div class="line"><span class="built_in">alias</span> gst=<span class="string">'git status'</span></div><div class="line"><span class="built_in">alias</span> gsta=<span class="string">'git stash'</span></div><div class="line"><span class="built_in">alias</span> gstaa=<span class="string">'git stash apply'</span></div><div class="line"><span class="built_in">alias</span> gstd=<span class="string">'git stash drop'</span></div><div class="line"><span class="built_in">alias</span> gstl=<span class="string">'git stash list'</span></div><div class="line"><span class="built_in">alias</span> gstp=<span class="string">'git stash pop'</span></div><div class="line"><span class="built_in">alias</span> gsts=<span class="string">'git stash show --text'</span></div><div class="line"><span class="built_in">alias</span> gsu=<span class="string">'git submodule update'</span></div><div class="line"></div><div class="line"><span class="built_in">alias</span> gts=<span class="string">'git tag -s'</span></div><div class="line"><span class="built_in">alias</span> gtv=<span class="string">'git tag | sort -V'</span></div><div class="line"></div><div class="line"><span class="built_in">alias</span> gunignore=<span class="string">'git update-index --no-assume-unchanged'</span></div><div class="line"><span class="built_in">alias</span> gunwip=<span class="string">'git log -n 1 | grep -q -c "\-\-wip\-\-" &amp;&amp; git reset HEAD~1'</span></div><div class="line"><span class="built_in">alias</span> gup=<span class="string">'git pull --rebase'</span></div><div class="line"><span class="built_in">alias</span> gupv=<span class="string">'git pull --rebase -v'</span></div><div class="line"><span class="built_in">alias</span> glum=<span class="string">'git pull upstream master'</span></div><div class="line"></div><div class="line"><span class="built_in">alias</span> gwch=<span class="string">'git whatchanged -p --abbrev-commit --pretty=medium'</span></div><div class="line"><span class="built_in">alias</span> gwip=<span class="string">'git add -A; git rm $(git ls-files --deleted) 2&gt; /dev/null; git commit -m "--wip--"'</span></div></pre></td></tr></table></figure>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/04/12/php文件锁/" itemprop="url">
                  php文件锁
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Veröffentlicht am</span>
            <time itemprop="dateCreated" datetime="2016-04-12T23:55:04+08:00" content="2016-04-12">
              2016-04-12
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">in</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/php/" itemprop="url" rel="index">
                    <span itemprop="name">php</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/04/12/php文件锁/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/04/12/php文件锁/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h2><p>临时创建一个文件<br>当检测到这个文件是存在的，并且时间不是到达正确的时间，直接返回不继续<br>检测到文件不存在或者创建的时间在规定时间之前，则重新将文件创建一次</p>
<h2 id="code"><a href="#code" class="headerlink" title="code"></a>code</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> DEBUG = <span class="keyword">false</span>;</div><div class="line"><span class="comment">// 检验脚本是否正在执行</span></div><div class="line">$lock_file = <span class="keyword">__DIR__</span> . <span class="string">'/appointment_out_date_lock'</span>;</div><div class="line"><span class="comment">// 锁文件存在并且创建时间小于5Min</span></div><div class="line"><span class="keyword">if</span> (file_exists($lock_file) &amp;&amp; ! (time() &gt; filemtime($lock_file) + <span class="number">5</span> * <span class="number">60</span>)) &#123;</div><div class="line">    <span class="keyword">if</span> (DEBUG) &#123;</div><div class="line">        <span class="keyword">echo</span> <span class="string">"Into lock file.\n\n"</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">&#125;</div><div class="line"><span class="comment">// 创建文件锁或更新锁文件的最后修改时间为当前时间</span></div><div class="line">touch($lock_file);</div></pre></td></tr></table></figure>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/8/">8</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/img/head.png"
               alt="yangbiao" />
          <p class="site-author-name" itemprop="name">yangbiao</p>
          <p class="site-description motion-element" itemprop="description"></p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">38</span>
              <span class="site-state-item-name">Artikel</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              
                <span class="site-state-item-count">15</span>
                <span class="site-state-item-name">Kategorien</span>
              
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">30</span>
                <span class="site-state-item-name">Tags</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">yangbiao</span>
</div>

<div class="powered-by">
  Erstellt mit  <a class="theme-link" href="http://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"xiaoyanger"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
    <script src="/vendors/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
    <script src="/js/src/hook-duoshuo.js"></script>
  






  
  

  

  

  

</body>
</html>
